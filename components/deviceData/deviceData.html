<style>
    #roleAuthTable + .layui-table-view .layui-table tbody tr:hover {
        background-color: transparent;
    }
</style>

<div class="layui-fluid">
    <div class="layui-card">
        <div class="layui-card-body">
            <div class="layui-form toolbar">
                    <div class="layui-row layui-form" id="selectionBox">
                        <div class="layui-inline" style="cursor:pointer;" id="showList">
                            <div id="up">
                                <span>é€‰æ‹©ç”¨èƒ½åˆ†ç±»</span>
                                <span class="iconfont icon-een ml mr5 trans180 inlineB"></span>
                            </div>
                            
                            <div id="down" style="display: none;">
                                <span>æ”¶èµ·ç”¨èƒ½åˆ†ç±»</span>
                                <span class="iconfont icon-een ml mr5"></span>
                            </div>
                        </div>
                        <div class="layui-inline">
                            <div style="border-right: 2px solid #009688;height: 0px;"  id="lineDiv"></div>
                        </div>
                        <div  class="layui-inline">
                            <label class="layui-form-label">ç­›é€‰è®¾ç½®ï¼š</label>
                            <div class="layui-input-inline">
                                <select name="company" lay-verify="" lay-filter="company" id="company" lay-search="">
                                    <option value="">è¯·é€‰æ‹©ä¼ä¸š</option>
                                </select>
                            </div>
                        </div>
                        <div class="layui-input-inline" id="deviceDiv">
                            <select name="deviceId" lay-verify="" lay-search="" id="deviceId" lay-filter="deviceId">
                                <option value="">è¯·é€‰æ‹©è®¾å¤‡</option>
                            </select>
                        </div>
                        <div class="layui-input-inline" id="dateDiv" >
                            <input type="text" name="date" id="date" lay-verify="" placeholder="è¯·é€‰æ‹©æ—¥æœŸ" autocomplete="off" class="layui-input" style="width: 350px;">
                        </div>
                        <div class="layui-inline " id="searchBtn">
                            <button type="button" class="layui-btn" lay-submit="" lay-filter="search" id="btn">æŸ¥è¯¢</button>
                        </div>
                        <div class="layui-inline " id="colSwitch" style="float: right;">
                            <div class="layui-input-block">
                                <input type="checkbox" name="col_double_open" checked="" lay-skin="switch" lay-filter="changeCol" lay-text="åŒå‘æ’åˆ—|å•é¡¹æ’åˆ—">
                            </div>
                        </div>
                    </div>
            </div>
        </div>
        <!-- è¦å¼¹å‡ºçš„CheckBox   START -->
        <div class="layui-col-md12 layui-col-xs12 layui-anim layui-anim-down" style="display: none;position: fixed;z-index: 10;top: 200px;" id="dataList">
            <div class="layui-card">
                <div class="layui-card-header">æ‰€æœ‰æ•°æ®<i  id="down1" class="absolute layui-icon layui-icon-up middle pointer l50b"></i></div>
                <div class="layui-card-body">
                    <div class="layui-row layui-form layui-col-space30 coom">
                        <div class="layui-col-sm2 layui-col-md-offset1">
                            <label class="layui-form-label">ç”µèƒ½æ•°æ®ï¼š</label>
                            <div class="layui-form-item" pane=""><input type="checkbox" lay-filter="checkboxData" value="ep" lay-skin="primary"
                                    name="dataName" title="æœ‰åŠŸç”µèƒ½æ•°æ®"></div>
                            <div class="layui-form-item" pane=""><input type="checkbox" lay-filter="checkboxData" value="eq" lay-skin="primary"
                                    name="dataName" title="æ— åŠŸç”µèƒ½æ•°æ®"></div>
                            <div class="layui-form-item" pane=""><input type="checkbox" lay-filter="checkboxData" value="es" lay-skin="primary"
                                    name="dataName" title="è§†åœ¨ç”µèƒ½æ•°æ®"></div>
                            <div class="layui-form-item" pane=""><input type="checkbox" lay-filter="checkboxData" value="eplj" lay-skin="primary"
                                    name="dataName" title="ç´¯è®¡ç”µèƒ½æ•°æ®"></div>


                        </div>
                        <div class="layui-col-sm2 ">
                            <label class="layui-form-label">åŠŸç‡æ•°æ®ï¼š</label>

                            <div class="layui-form-item" pane=""><input type="checkbox" lay-filter="checkboxData" value="p" lay-skin="primary"
                                    name="dataName" title="æœ‰åŠŸåŠŸç‡æ•°æ®"></div>
                            <div class="layui-form-item" pane=""><input type="checkbox" lay-filter="checkboxData" value="q" lay-skin="primary"
                                    data-type="åŠŸç‡æ•°æ®" name="dataName" title="æ— åŠŸåŠŸç‡æ•°æ®"></div>
                            <div class="layui-form-item" pane=""><input type="checkbox" lay-filter="checkboxData" value="s" lay-skin="primary"
                                    name="dataName" title="è§†åœ¨åŠŸç‡æ•°æ®"></div>
                            <div class="layui-form-item" pane=""><input type="checkbox" lay-filter="checkboxData" value="cos" lay-skin="primary"
                                    name="dataName" title="åŠŸç‡å› æ•°æ•°æ®" checked=""></div>

                        </div>
                        <div class="layui-col-sm2 ">
                            <label class="layui-form-label">ç”µæµæ•°æ®ï¼š</label>
                            <div class="layui-form-item" pane=""><input type="checkbox" lay-filter="checkboxData" value="thdia" lay-skin="primary"
                                    name="dataName" title="ç”µæµè°æ³¢ç•¸å˜ç‡"></div>
                            <div class="layui-form-item" pane=""><input type="checkbox" lay-filter="checkboxData" value="i" lay-skin="primary"
                                    name="dataName" title="ç”µæµæ•°æ®" checked=""></div>
                        </div>
                        <div class="layui-col-sm2 ">
                            <label class="layui-form-label">ç”µå‹æ•°æ®ï¼š</label>
                            <div class="layui-form-item" pane=""><input type="checkbox" lay-filter="checkboxData" value="thdua" lay-skin="primary"
                                    name="dataName" title="ç”µå‹è°æ³¢ç•¸å˜ç‡"></div>
                            <div class="layui-form-item" pane=""><input type="checkbox" lay-filter="checkboxData" value="u" lay-skin="primary"
                                    name="dataName" title="ç”µå‹æ•°æ®" checked=""></div>
                        </div>
                        <div class="layui-col-sm2 ">
                            <label class="layui-form-label ">é¢‘ç‡æ•°æ®ï¼š</label>
                            <div class="layui-form-item" pane=""><input type="checkbox" lay-filter="checkboxData" value="feq" lay-skin="primary"
                                    name="dataName" title="é¢‘ç‡æ•°æ®"></div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <div id="pack" class="layui-row layui-col-space20 mt20"></div>
</div>


<!-- jséƒ¨åˆ† -->
<script type="text/javascript">
    //å¾—åˆ°checkboxæ•°æ®
    var checkboxDatas = []
    layui.use(['layer', 'jquery', 'form', 'table', 'util', 'admin', 'config', 'tableX', "element", "laydate", 'serverUrl'], function() {
        var $ = layui.jquery;
        var layer = layui.layer;
        var table = layui.table;
        var admin = layui.admin;
        var config = layui.config;
        var tableX = layui.tableX;			
        var element = layui.element; //å¯¼èˆªçš„hoveræ•ˆæœã€äºŒçº§èœå•ç­‰åŠŸèƒ½ï¼Œéœ€è¦ä¾èµ–elementæ¨¡å—ğŸ‘‡
        var laydate = layui.laydate; //æ—¥æœŸæ§ä»¶
        var form = layui.form; //è¡¨æ ¼å†…å®¹æ²¡æœ‰è¿™ä¸ªå°±æ— æ³•æ˜¾ç¤ºå‡ºselect CheckBox çš„æ ·å¼
        renderForm();
        var serverUrl = layui.serverUrl;
        var selectOption = layui.selectOption;
        $(".layui-breadcrumb").find("a").first().html("<i class='layui-icon layui-icon-refresh-3'></i>")
            $(".layui-breadcrumb").find("a").first().attr("href","javascript:void(0);");
            $(".layui-breadcrumb").find("a").first().attr("ew-event","refresh");

        selectOption.send_req('qisheng/Company/lst.html', {}, function(data){
            var hyArr = [];
            const s = new Set();
            data.data.forEach((ele, index) => {
                hyArr.push({id: ele.id, categoryName: ele.name})
            })
            hyArr.forEach(x => s.add(x));
            selectOption.showCategory(hyArr, 1,'#company')
            form.render('select');
        })


        table.render({
            elem: '#roleTable',
            url: serverUrl + 'qisheng/industry/lst.html',
            cellMinWidth: 100,
            cols: [[
                {type: 'numbers'},
                {field: 'name', title: 'è¡Œä¸šåç§°'},
                {field: 'common', title: 'å¤‡æ³¨'},
            ]]
        });


        //ç›‘å¬companyåŠ¨æ€åŠ è½½DeviceName
        form.on("select(company)", function(data) {
            var company_id1 = data.value;
            var hyArr;
            $("#deviceId").empty();
            form.render('select');
            hyArr = [];
            selectOption.send_req('qisheng/Equipment/get_devicelst_by_companyid.html', {'company_id': company_id1}, function(data){
                hyArr = [];
                const s = new Set();
                data.forEach((ele, index) => {
                    hyArr.push({id: ele.DeviceId, categoryName: ele.DeviceName})
                })
                hyArr.forEach(x => s.add(x));
                selectOption.showCategory(hyArr, 1,'#deviceId')
                form.render('select');
            })
        });

        // $(".layui-elem-quote").load(frontUrl + "/electric_page/components/basic/head.html", function() {
        // 	//å¼¹å‡ºå„ç§é€‰é¡¹
            $("#showList").click(function() {
                //å¼¹å‡ºä¸€å †checkbox
                var isShow = $("#up").is(':hidden');
                if (!isShow) {
                    $("#dataList").show();
                    $("#down").show();
                    $("#up").hide();
                } else {
                    $("#dataList").hide();
                    $("#down").hide();
                    $("#up").show();
                }

            });
            $(document).click(function(e){
    ã€€ã€€ã€€ã€€ã€€ã€€ var $target  = $(e.target);
ã€€ã€€ã€€ã€€ã€€  ã€€		if(!$target.closest("#up, .coom").length){
ã€€ã€€ã€€ã€€ã€€ã€€   			$("#dataList").hide();
                        $("#down").hide();
                        $("#up").show();
ã€€ã€€ã€€ã€€ã€€ã€€     	}ã€€ã€€
    ã€€ã€€ã€€ã€€ã€€ã€€})
            $("#down1").click(function() {
                //å¼¹å‡ºä¸€å †checkbox
                var isShow = $("#up").is(':hidden');
                if (!isShow) {
                    $("#dataList").show();
                    $("#down").show();
                    $("#up").hide();
                } else {
                    $("#dataList").hide();
                    $("#down").hide();
                    $("#up").show();
                }

            });
ã€€ã€€ã€€ã€€ã€€ã€€

        // 	//æ—¥æœŸç¼–è¾‘
            laydate.render({
                elem: '#date',
                range: ',',
            });
        // })

        // $.ajax({
        // 	url: serverUrl + "/device/getWorkshopName",
        // 	type: "POST",
        // 	success: function(data) {
        // 		var op = "<option value=''></option>";
        // 		for (let i = 0; i < data.length; i++) {
        // 			op += "<option value='" + data[i] + "'>" + data[i] + "</option>"
        // 		}
        // 		$("#workShop").append(op);
        // 		form.render(); //é‡æ–°ç¼–è¯‘è¡¨æ ¼é‡Œçš„å†…å®¹
        // 	},
        // 	error: function(err) {
        // 		$("#workShop").append("<option>ç½‘ç»œå¼‚å¸¸ï¼Œè¯·ç¨åé‡è¯•!</option>");
        // 		form.render();
        // 		console.log(err)
        // 	}

        // })

        var deviceId = "";
        var date = "";
        var datatype = ''
        var dataArr = [];
        //ç›‘å¬æäº¤
        form.on('submit(search)', function(data) {
            // layer.alert(JSON.stringify(data.field), {
            // 	title: 'æœ€ç»ˆçš„æäº¤ä¿¡æ¯'
            // })
            console.log(dataList)
            datatype = ''
            dataArr = [];
            deviceId = data.field.deviceId;
            date = data.field.date;
            $.each(dataList, function(index, item) {
                //é˜²æ­¢é‡å¤åŠ è½½
                dataArr.push(item);
                datatype = datatype + ',' + item.num;
                $("#" + item.num).remove();
                // loadTableData(serverUrl, table, item.num, '20549', date);});
            })
            datatype = datatype.substr(1)
            loadChartData(serverUrl, $, datatype, deviceId, date, dataArr);
            // loadChartData(serverUrl, $, item.title, datatype, '20549', date);
        });


        $(".layui-btn-group button").click(function() {
            $(".layui-btn-group button").removeClass("layui-btn-normal");
            $(this).addClass("layui-btn-normal");
            //$("#date").val("2019-06-06 - 2019-08-08")
            $.ajax({
                url: "",
                dataType: "json",
                data: {
                    type: $(this).val()
                },
                success: function(data) {
                    $("#date").val(data.date);
                },
                error: function(err) {
                    console.log(err)
                }
            })
        })

        var dataList = [];
        //é¡µé¢ä¸€è¿›æ¥åŠ è½½æ•°æ®
        $('input[name="dataName"]:checked').each(function() {
            var checkedName = $(this)[0].title;
            var obj = {
                "title": $(this)[0].title,
                "num": $(this).val()
            };
            dataList.push(obj);
            // //console.log()
            // loadChartData(serverUrl, $, checkedName, $(this).val());
            // loadTableData(serverUrl, table, $(this).val());
        });

        //ç›‘å¬å•åŒåˆ—       æŒ‡å®šå¼€å…³
        form.on('switch(changeCol)', function(data) {
            this.checked ? $(".changeCol").removeClass("layui-col-md12").addClass("layui-col-md6") : $(".changeCol").removeClass(
                "layui-col-md6").addClass("layui-col-md12");

            //å¾ªç¯åˆ·æ–°echartå’Œtable
            $("input[name=dataName]:checked").each(function() {

                //å¾ªç¯åˆ·æ–°echartå’Œtable
                var chartId = 'main' + $(this).val();
                var tableId = 'table' + $(this).val();
                //é‡ç½®è¡¨æ ¼å’Œå›¾è¡¨å¤§å°
                echarts.init(document.getElementById(chartId)).resize('auto', 'auto', false);
                table.resize(tableId);
            });
        });

        //ç›‘å¬checkbox   å¹¶é€‰å‡ºå¯¹åº”çš„å€¼
        form.on('checkbox(checkboxData)', function(data) {
            if ($($(data.othis).hasClass('layui-form-checked'))[0]) { //å¦‚æœé€‰ä¸­, 
                //å¦‚æœæœ‰è®¾å¤‡idæ‰è¿›è¡ŒæŸ¥è¯¢æ“ä½œ
                // if (deviceId != "") {
                // 	var val = data.value;
                // 	loadChartData(serverUrl, $, data.othis[0].innerText, val, deviceId, date);
                // 	loadTableData(serverUrl, table, val, deviceId, date);
                // } else {
                    //åä¹‹å¡«å……dataList ä¸è¿›è¡Œè¿™ä¸€æ­¥ è¿˜ä¼šèµ°é¡µé¢ä¸€è¿›æ¥çš„é»˜è®¤é€‰é¡¹  [ep,i,eq...]
                    dataList = [];
                    $('input[name="dataName"]:checked').each(function() {
                        var checkedName = $(this)[0].title;
                        var obj = {
                            "title": $(this)[0].title,
                            "num": $(this).val()
                        };
                        dataList.push(obj);
                        //console.log()
                        // loadChartData(serverUrl, $, checkedName, $(this).val());
                        // loadTableData(serverUrl, table, $(this).val());
                    });
                // }

            } else {
                //åˆ é™¤å¯¹åº”çš„å¡ç‰‡
                $.each(dataList, function(index, ele) {
                    if(ele.num == data.value){
                        dataList.splice(index, 1)
                        return false
                    }
                })
                // $("#" + data.value).remove();
            }
        });
    });

    //eachart  åŸºç¡€é…ç½®
    function getChartOption(text, subtext, stringDate, types) {
        var arr = [];
        var color = ['orange', "green", 'red', "blue"];
        for (var i = 0; i < types.length; i++) {
            var obj = {
                name: types[i],
                type: 'line',
                data: [],
                markPoint: {
                    data: [{
                            type: 'max',
                            name: 'æœ€å¤§å€¼'
                        },
                        {
                            type: 'min',
                            name: 'æœ€å°å€¼'
                        }
                    ]

                },
                markLine: {
                    data: [{
                        type: 'average',
                        name: 'å¹³å‡å€¼'
                    }]
                },
                // itemStyle: {
                //     normal: {
                //         color: color[i]
                //     }
                // }
            };
            arr.push(obj);
        }
        
        var optionU = {
            title: {
                text: text,
                subtext: subtext + " " + stringDate
            },
            tooltip: {
                trigger: 'axis'
            },
            color: ['orange', "green", 'red', "#122065"],
            legend: {
                data: []
            },
            dataZoom:{
                show:true,
            },
            toolbox: {
                show: true,
                feature: {
                    mark: {
                        show: true
                    },
                    dataView: {
                        show: true,
                        readOnly: true,
                        optionToContent: function(opt) {
                            var axisData = opt.xAxis[0].data;
                            var series = opt.series;
                            var table = '<table style="width:95%;text-align:center" class="layui-table"><tbody><tr>' +
                                '<td>æ—¶é—´</td>';
                            for (let i = 0; i < series.length; i++) {
                                table += '<td>' + series[i].name + '</td>';
                            }
                            table += '</tr>';
                            for (var i = 0, l = axisData.length; i < l; i++) {
                                table += '<tr>' + '<td>' + axisData[i] + '</td>';

                                for (let j = 0; j < series.length; j++) {
                                    if (typeof(series[j].data[i]) != "undefined") {
                                        table += '<td>' + series[j].data[i] + '</td>';
                                    }
                                }
                                table += '</tr>';
                            }
                            table += '</tbody></table>';
                            return table;
                        }
                    },
                    magicType: {
                        show: true,
                        type: ['line', 'bar']
                    },
                    restore: {
                        show: false
                    },
                    saveAsImage: {
                        show: true
                    },
                    myTool1: {
                        show: true,
                        title: 'å¯¼å‡ºexcel',
                        // icon: 'image://' + frontUrl + '/HBuilderProjects/static/assets/images/Excel.png',
                        onclick: function(e) {
                            var series = e.option.series;
                            var axisData = e.option.xAxis[0].data;
                            var str = 'æ—¶é—´,' + series[0].name + "," + series[1].name + "," + series[2].name + "," + series[3].name + "\n";

                            for (var i = 0, l = axisData.length; i < l; i++) {

                                str += `${ axisData[i] + '\t'},`;
                                str += `${ series[0].data[i] + '\t'},`;
                                str += `${ series[1].data[i] + '\t'},`;
                                str += `${ series[2].data[i] + '\t'},`;
                                str += `${ series[3].data[i] + '\t'}`;
                                str += '\n';

                            }

                            let uri = 'data:text/csv;charset=utf-8,\ufeff' + encodeURIComponent(str);
                            //é€šè¿‡åˆ›å»ºaæ ‡ç­¾å®ç°
                            let link = document.createElement("a");
                            link.href = uri;
                            //å¯¹ä¸‹è½½çš„æ–‡ä»¶å‘½å
                            link.download = e.option.title[0].text + ".csv";
                            document.body.appendChild(link);
                            link.click();
                            document.body.removeChild(link);

                        }
                    },
                }
            },
            calculable: true,
            xAxis: [{
                type: 'category',
                boundaryGap: false,
                data: []
            }],
            yAxis: [{
                type: 'value',
                axisLabel: {}
            }],
            series: arr
        };
        return optionU;
    }




    //åŠ è½½echarté…ç½®
    function getChartDataOption(type, xAxis, datas) {
        var arr = [];
        for (var i = 0; i < type.length; i++) {

            for (var j = 0; j < datas.length; j++) {

                if (i == j) {
                    var obj = {
                        // æ ¹æ®åå­—å¯¹åº”åˆ°ç›¸åº”çš„ç³»åˆ—
                        name: type[i],
                        type: 'line',
                        data: datas[j]
                    }
                    arr.push(obj);
                }
            }
        }
        console.log(type)
        return {
            legend: {
                data: type
            },
            xAxis: {
                data: xAxis
            },
            series: arr
        }
    }


    //åŠ¨æ€element
    function appendEl(v, name, item) {
        var col = v ? "layui-col-md6" : "layui-col-md12";
        var el = '<div class="layui-col-xs12 changeCol ' + col + '" id=' + item + '>' +
            '<div class="layui-card">' +
            '<div class="layui-card-header">' + name + '</div>' +
            '<div class="layui-card-body">' +
            '<div id=main' + item + ' style="height:400px;" class="bgfff"></div>' +
            '<div class="layui-row ">' +
            // '<table  id=table' + item + ' lay-skin="nob"></table>' +
            '</div>' +
            '</div>' +
            '</div>' +
            '</div>';
        return el;
    }

    function loadTableData(serverUrl, table, itemId, devId, date) {
        //ç¼–è¯‘è¡¨æ ¼
        table.render({
            elem: '#table' + itemId,
            height: 210,
            cellMinWidth: 100,
            // url: serverUrl + "qisheng/Idsd/data_chart.html",
            // where: {
            // 	data_type: itemId,
            // 	date: date,
            // 	deviceId: devId
            // },
            // parseData: function(res) { //res å³ä¸ºåŸå§‹è¿”å›çš„æ•°æ®
            // 	console.log(res.data)
            // 	return {
            // 		"code": res.status, //è§£ææ¥å£çŠ¶æ€
            // 		"msg": res.message, //è§£ææç¤ºæ–‡æœ¬
            // 		"count": res.total, //è§£ææ•°æ®é•¿åº¦
            // 		"data": res.data == [] ? [] : res.data[0].maxMin //è§£ææ•°æ®åˆ—è¡¨
            // 	};
            // },
            cols: [
                [ //è¡¨å¤´
                    {
                        field: 'name',
                        title: 'åç§°'
                    }, {
                        field: 'max',
                        title: 'æœ€å¤§å€¼'
                    },
                    {
                        field: 'min',
                        title: 'æœ€å°å€¼'
                    },
                    {
                        field: 'avg',
                        title: 'å¹³å‡å€¼'
                    }
                ]
            ],
            data:[
                {
                    "name": 'a',
                    "max": '10',
                    "min": '10',
                    "avg": '10',
                },
                {
                    "name": 'b',
                    "max": '10',
                    "min": '10',
                    "avg": '10',
                }
            ]
        });
    }

    /**
     * @param {Object} $
     * @param {Object} chartTitle   echartå¤´éƒ¨åå­—
     * @param {Object} itemId       
     * @param {Object} data
     */
    function loadChartData(serverUrl, $, itemId, devId, date, dataArr) {
        $.ajax({
            url: serverUrl + "qisheng/Idsd/data_chart.html",
            type: "POST",
            dataType: 'json',
            data: {
                "deviceid": devId,
                "date_area": date,
                'data_type': itemId
            },
            success: function(data) {
                $('#pack').html('');
                Object.keys(data.obj).map((item)=>{
                    var chartTitle = '';
                    $.each(dataArr, function(index, val) {
                        if(item != 'Feq'){
                            if(val.num == item){
                                chartTitle = val.title
                            }
                        }else{
                            chartTitle= "é¢‘ç‡æ•°æ®"
                        }
                        
                    })
                    //æ·»åŠ å›¾è¡¨element
                    var v = $("input[name='col_double_open']").is(':checked');
                    $('#pack').append(appendEl(v, chartTitle, item));

                    //è·å¾—id
                    var c = 'main' + item;
                    c = echarts.init(document.getElementById('main' + item));
                    //ç¼–è¯‘echart  è®¾ç½®åŸºç¡€é…ç½®
            
            
                    //è·å–eachartæ•°æ®
                    var xAxis = [];
                    var datacurrent = [];
                    var typecurrent = [];

                    // callback(data);
                    var arr = []
                    for (let i in data.obj) {
                        let o = {};
                        o[i] = data.obj[i];
                        arr.push(o)
                    }
                    // console.log(itemId.split(","));
                    // Math.min(...arr)
                    var dataArr1 = []
                    var dataArr2 = []
                    var dataArr3 = []
                    var dataArr4 = []
                    $.each(data.obj[item], function(index, item1) {
                        
                        xAxis.push(item1.date);
                        delete item1.date
                        typecurrent = Object.keys(item1)
                        // debugger
                        if(Object.keys(item1).length == 1){
                            dataArr1.push(item1[typecurrent[0]])
                        }else{
                            for(var i = 0; i < typecurrent.length; i++){
                                if(i == 0){
                                    dataArr1.push(item1[typecurrent[i]])
                                }else if(i == 1){
                                    dataArr2.push(item1[typecurrent[i]])
                                }else if(i == 2){
                                    dataArr3.push(item1[typecurrent[i]])
                                }else if(i == 3){
                                    dataArr4.push(item1[typecurrent[i]])
                                }else{
                                    
                                }
                            }
                        }
                    });
                    datacurrent.push(dataArr1)
                    datacurrent.push(dataArr2)
                    datacurrent.push(dataArr3)
                    datacurrent.push(dataArr4)
                    var typecurrentL = typecurrent.map((item) => {
                        return item + 'é¡¹'
                    })
                    c.setOption(getChartOption(chartTitle, chartTitle, date, item));
                    var option = getChartDataOption(typecurrentL, xAxis, datacurrent);
                    c.setOption(option);
                })
                
            },
            error: function(err) {
                console.log("charterr", err);
            }
        })
    }


    function renderForm() {
        layui.use(['form'], function() {
            var form = layui.form; //é«˜ç‰ˆæœ¬å»ºè®®æŠŠæ‹¬å·å»æ‰ï¼Œæœ‰çš„ä½ç‰ˆæœ¬ï¼Œéœ€è¦åŠ ()
            form.render();
        });
    }
</script>